<mvc:View
    controllerName="management.controller.CTInProgress"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:semantic="sap.f.semantic"
    displayBlock="true"
    xmlns="sap.ui.table"
    xmlns:tnt="sap.tnt"
    xmlns:dnd="sap.ui.core.dnd"
>
    <semantic:SemanticPage
        id="page"
        headerExpanded="true"
        headerPinnable="false"
        titleAreaShrinkRatio="1:1.5:1.5"
    >
        <semantic:titleHeading>
            <m:Toolbar
                id="_IDGenToolbar1"
                class="width90"
            >
                <m:Title
                    id="_IDGenTitle1"
                    text="In Progress"
                    class="cardTitle"
                />
                <m:SearchField
                    id="searchField"
                    search=".onSearch"
                    width="auto"
                />
            </m:Toolbar>
        </semantic:titleHeading>


        <!-- Contenu principal avec la table des tickets -->
        <semantic:content>
            <m:Table
                id="idProductsTable"
                mode="SingleSelectMaster"
                items="{TicketsModel>/Tickets}"
                alternateRowColors="true"
            >
                <!-- Liaison aux données OData -->

                <m:columns>
                    <!-- Définition des colonnes -->

                    <!-- Invisible column for the Id-->
                    <m:Column
                        id="_IDGenColumn11"
                        width="9em"
                        visible="false"
                    >
                        <m:Label
                            id="_IDGenLabel11"
                            text="Id"
                        />
                    </m:Column>

                    <!--Column
                        id="_IDGenColumn12"
                        width="9em"
                    >
                        <m:Label
                            id="_IDGenLabel12"
                            text="Jira ID"
                        />
                        <template>
                            <tnt:InfoLabel
                                id="_IDGenText112"
                                text="{TicketsModel>IdJira}"
                                colorScheme="{
                                    path: 'TicketsModel>Priority',
                                    formatter: '.formatPriorityColor'
                                }"
                                icon="{
                                    path: 'TicketsModel>Priority',
                                    formatter: '.formatPriorityIcon'
                                }"
                            />
                        </template>
                    </Column-->

                    <m:Column
                        id="_IDGenColumn1a2"
                        width="9rem"
                    >
                        <m:Label
                            id="_IDGenLabel1a2"
                            text="Title"
                        />
                    </m:Column>

                    <m:Column
                        id="_IDGenColumn122"
                        width="6em"
                    >
                        <m:Label
                            id="_IDGenLabel122"
                            text="Project"
                        />
                    </m:Column>

                    <!--Column
                        id="_IDGenColumn123"
                        width="14em"
                    >
                        <m:Label
                            id="_IDGenLabel123"
                            text="Consultant"
                        />
                        <template>
                            <m:Text
                                id="_IDGenText11a2aA"
                                text="{= ${TicketsModel>ConsultantName} === '' ? '-' : ${TicketsModel>ConsultantName} }"
                                wrapping="false"
                            />
                        </template>
                    </Column-->

                    <m:Column
                        id="_IDGenColumna12"
                        width="8em"
                    >
                        <m:Label
                            id="_IDGenLabel1a2a"
                            text="Creation Date"
                        />
                    </m:Column>

                </m:columns>


                <m:dragDropConfig>
			        <dnd:DragInfo id="_IDGenDragInfo1"
    			    	groupName="inProgress2onHold"
	    	    		sourceAggregation="items"/>
		        	<dnd:DropInfo id="_IDGenDropInfo1"
	    		    	groupName="onHold2inProgress"
    				    drop="onDropInProgress"/>
        		</m:dragDropConfig>

                
                <m:items>
			        <m:ColumnListItem id="_IDGenColumnListItem1">
				        <m:cells>
                            <tnt:InfoLabel
                                id="_IDGenText111"
                                text="{TicketsModel>IdTicket}"
                                icon="{
                                    path: 'TicketsModel>Priority',
                                    formatter: '.formatPriorityIcon'
                                }"
                            />

                            <m:Link
                                id="_IDGenText11a2"
                                text="{TicketsModel>Titre}"
                                press="showTicketInfo"
                                wrapping="false"
                            />

                            <m:Text
                                id="_IDGenText1122"
                                text="{TicketsModel>Projet}"
                                wrapping="false"
                            />

                            <tnt:InfoLabel
                                id="_IDGenText11a2a"
                                text="{
                                    path: 'TicketsModel>CreationDate',
                                    formatter: '.formatDate'
                                }"
                                colorScheme="{
                                    path: 'TicketsModel>Priority',
                                    formatter: '.formatPriorityColor'
                                }"
                                icon="{
                                    path: 'TicketsModel>Priority',
                                    formatter: '.formatPriorityIcon'
                                }"
                            />
				        </m:cells>
			        </m:ColumnListItem>
		        </m:items>
            </m:Table>
        </semantic:content>
    </semantic:SemanticPage>
</mvc:View>
